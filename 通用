local WindUI = loadstring(game:HttpGet("https://raw.githubusercontent.com/Footagesus/WindUI/main/dist/main.lua"))()

WindUI:Localization({
    Enabled = true,
    Prefix = "loc:",
    DefaultLanguage = "zh",
    Translations = {
        ["ru"] = {
            ["WINDUI_EXAMPLE"] = "WindUI ĞŸÑ€Ğ¸Ğ¼ĞµÑ€",
            ["WELCOME"] = "Ğ”Ğ¾Ğ±Ñ€Ğ¾ Ğ¿Ğ¾Ğ¶Ğ°Ğ»Ğ¾Ğ²Ğ°Ñ‚ÑŒ Ğ² WindUI!",
            ["LIB_DESC"] = "Ğ‘Ğ¸Ğ±Ğ»Ğ¸Ğ¾Ñ‚ĞµĞºĞ° Ğ´Ğ»Ñ ÑĞ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ñ ĞºÑ€Ğ°ÑĞ¸Ğ²Ñ‹Ñ… Ğ¸Ğ½Ñ‚ĞµÑ€Ñ„ĞµĞ¹ÑĞ¾Ğ²",
            ["SETTINGS"] = "ĞĞ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ¸",
            ["APPEARANCE"] = "Ğ’Ğ½ĞµÑˆĞ½Ğ¸Ğ¹ Ğ²Ğ¸Ğ´",
            ["FEATURES"] = "Ğ¤ÑƒĞ½ĞºÑ†Ğ¸Ğ¾Ğ½Ğ°Ğ»",
            ["UTILITIES"] = "Ğ˜Ğ½ÑÑ‚Ñ€ÑƒĞ¼ĞµĞ½Ñ‚Ñ‹",
            ["UI_ELEMENTS"] = "UI Ğ­Ğ»ĞµĞ¼ĞµĞ½Ñ‚Ñ‹",
            ["CONFIGURATION"] = "ĞšĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ñ",
            ["SAVE_CONFIG"] = "Ğ¡Ğ¾Ñ…Ñ€Ğ°Ğ½Ğ¸Ñ‚ÑŒ ĞºĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ñ",
            ["LOAD_CONFIG"] = "Ğ—Ğ°Ğ³Ñ€ÑƒĞ·Ğ¸Ñ‚ÑŒ ĞºĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ñ",
            ["THEME_SELECT"] = "Ğ’Ñ‹Ğ±ĞµÑ€Ğ¸Ñ‚Ğµ Ñ‚ĞµĞ¼Ñƒ",
            ["TRANSPARENCY"] = "ĞŸÑ€Ğ¾Ğ·Ñ€Ğ°Ñ‡Ğ½Ğ¾ÑÑ‚ÑŒ Ğ¾ĞºĞ½Ğ°"
        },
        ["en"] = {
            ["WINDUI_EXAMPLE"] = "WindUI Example",
            ["WELCOME"] = "Welcome to WindUI!",
            ["LIB_DESC"] = "Beautiful UI library for Roblox",
            ["SETTINGS"] = "Settings",
            ["APPEARANCE"] = "Appearance",
            ["FEATURES"] = "Features",
            ["UTILITIES"] = "Utilities",
            ["UI_ELEMENTS"] = "UI Elements",
            ["CONFIGURATION"] = "Configuration",
            ["SAVE_CONFIG"] = "Save Configuration",
            ["LOAD_CONFIG"] = "Load Configuration",
            ["THEME_SELECT"] = "Select Theme",
            ["TRANSPARENCY"] = "Window Transparency"
        },
        ["zh"] = { -- æ·»åŠ ä¸­æ–‡ç¿»è¯‘
            ["WINDUI_EXAMPLE"] = "WindUI ç¤ºä¾‹",
            ["WELCOME"] = "æ¬¢è¿ä½¿ç”¨ WindUIï¼",
            ["LIB_DESC"] = "ç”¨äº Roblox çš„ä¼˜ç¾ UI åº“",
            ["SETTINGS"] = "è®¾ç½®",
            ["APPEARANCE"] = "å¤–è§‚",
            ["FEATURES"] = "åŠŸèƒ½",
            ["UTILITIES"] = "å·¥å…·",
            ["UI_ELEMENTS"] = "UI å…ƒç´ ",
            ["CONFIGURATION"] = "é…ç½®",
            ["SAVE_CONFIG"] = "ä¿å­˜é…ç½®",
            ["LOAD_CONFIG"] = "åŠ è½½é…ç½®",
            ["THEME_SELECT"] = "é€‰æ‹©ä¸»é¢˜",
            ["TRANSPARENCY"] = "çª—å£é€æ˜åº¦"
        }
    }
})

WindUI.TransparencyValue = 0.2
WindUI:SetTheme("Dark")

local function gradient(text, startColor, endColor)
    local result = ""
    for i = 1, #text do
        local t = (i - 1) / (#text - 1)
        local r = math.floor((startColor.R + (endColor.R - startColor.R) * t) * 255)
        local g = math.floor((startColor.G + (endColor.G - startColor.G) * t) * 255)
        local b = math.floor((startColor.B + (endColor.B - startColor.B) * t) * 255)
        result = result .. string.format('<font color="rgb(%d,%d,%d)">%s</font>', r, g, b, text:sub(i, i))
    end
    return result
end

--[[WindUI:Popup({
    Title = gradient("MP hub", Color3.fromHex("#6A11CB"), Color3.fromHex("#2575FC")), -- æ ‡é¢˜æ±‰åŒ–
    Icon = "sparkles",
    Content = "å¯ä»¥ä½¿ç”¨äº†å§ğŸ˜‹ğŸ˜‹ğŸ˜‹", -- ä½¿ç”¨æœ¬åœ°åŒ–é”®
    Buttons = {
        {
            Title = "å¼€å§‹ä½¿ç”¨", -- æŒ‰é’®æ±‰åŒ–
            Icon = "arrow-right",
            Variant = "Primary",
            Callback = function() end
        }
    }
})

]]
-- æ·»åŠ ä½ çš„æœåŠ¡ä»¥è·å–å¯†é’¥
--[[
WindUI.Services.mysuperservicetogetkey = {
    Name = "æˆ‘çš„è¶…çº§æœåŠ¡", -- æœåŠ¡åæ±‰åŒ–
    Icon = "droplet", -- lucide æˆ– rbxassetid æˆ–åŸå§‹å›¾ç‰‡é“¾æ¥
    
    Args = { "ServiceId" }, --       <- \
    --                                   |
    -- é‡è¦!!!!!!!!!!!!!!!               |
    New = function(ServiceId) -- <------ | å‚æ•°!!!!!!!!!!!!
        
        function validateKey(key) -- <--- è¿™ä¸ªä¹Ÿå¾ˆé‡è¦!!!
            -- éªŒè¯å¯†é’¥çš„å‡½æ•°
            -- æŸ¥çœ‹ç¤ºä¾‹è¯·è®¿é—® src/utils/
            
            if not key then
                return false, "å¯†é’¥æ— æ•ˆï¼" -- é”™è¯¯ä¿¡æ¯æ±‰åŒ–
                
            end
            
            return true, "å¯†é’¥æœ‰æ•ˆï¼" -- æˆåŠŸä¿¡æ¯æ±‰åŒ–
        end
        
        function copyLink()
            return setclipboard("å¯†é’¥ç³»ç»ŸæœåŠ¡çš„é“¾æ¥ã€‚") -- æç¤ºä¿¡æ¯æ±‰åŒ–
        end
        
        return {
            -- â†“ ä¸è¦ä¿®æ”¹è¿™ä¸ª!!1!1!1!1!1!!1!100
            Verify = validateKey, -- <-----  è¿™ä¸ªä¹Ÿéå¸¸é‡è¦!!!!!
            Copy = copyLink -- <-------- é‡è¦!1!1!1!1!1!1!11!
            -- â†‘ ä¸è¦ä¿®æ”¹è¿™ä¸ª!!1!1!1!1!1!!1!100
        }
    end
}
]]

local Window = WindUI:CreateWindow({
    Title = "MP hub", -- ä½¿ç”¨æœ¬åœ°åŒ–é”®
    Icon = "palette",
    Author = "æµ‹è¯•ç‰ˆ", -- ä½¿ç”¨æœ¬åœ°åŒ–é”®
    Folder = "WindUI_Example",
    Size = UDim2.fromOffset(580, 490),
    Theme = "Dark",
    Background = IP,
    -- Background = WindUI:Gradient({
    --     ["0"] = { Color = Color3.fromHex("#0f0c29"), Transparency = 1 },
    --     ["100"] = { Color = Color3.fromHex("#302b63"), Transparency = 0.9 },
    -- }, {
    --     Rotation = 45,
    -- }),
    --Background = "video:https://cdn.discordapp.com/attachments/1337368451865645096/1402703845657673878/VID_20250616_180732_158.webm?ex=68958a01&is=68943881&hm=164c5b04d1076308b38055075f7eb0653c1d73bec9bcee08e918a31321fe3058&",
    User = {
        Enabled = true,
        Anonymous = true,
        Callback = function()
            WindUI:Notify({
                Title = "ç”¨æˆ·èµ„æ–™", -- é€šçŸ¥æ ‡é¢˜æ±‰åŒ–
                Content = "ç”¨æˆ·èµ„æ–™è¢«ç‚¹å‡»äº†ï¼", -- é€šçŸ¥å†…å®¹æ±‰åŒ–
                Duration = 3
            })
        end
    },
    SideBarWidth = 200,
    -- KeySystem = { -- <- â†“ å¦‚æœä¸éœ€è¦å¯†é’¥ç³»ç»Ÿï¼Œè¯·åˆ é™¤æ‰€æœ‰è¿™äº›å†…å®¹
    --     -- Key = { "1234", "5678" },  
    --     Note = "ç¤ºä¾‹å¯†é’¥ç³»ç»Ÿã€‚åŒ…å« Platoboost ç­‰ã€‚", -- æ³¨é‡Šæ±‰åŒ–
    --     -- URL = "https://github.com/Footagesus/WindUI",
    --     -- Thumbnail = {
    --     --     Image = "rbxassetid://",
    --     --     Title = "ç¼©ç•¥å›¾", -- ç¼©ç•¥å›¾æ ‡é¢˜æ±‰åŒ–
    --     -- },
    --     API = {
    --         {   
    --             -- Title = "Platoboost", -- å¯é€‰ 
    --             -- Desc = "ç‚¹å‡»å¤åˆ¶ã€‚", -- å¯é€‰ï¼Œæ±‰åŒ–
    --             -- Icon = "rbxassetid://", -- å¯é€‰
                
    --             Type = "platoboost", -- ç±»å‹: platoboost, ...
    --             ServiceId = 5541, -- æœåŠ¡ ID
    --             Secret = "1eda3b70-aab4-4394-82e4-4e7f507ae198", -- platoboost å¯†é’¥
    --         },
    --         {   
    --             -- Title = "å…¶ä»–æœåŠ¡", -- å¯é€‰ï¼Œæ±‰åŒ– 
    --             -- Desc = nil, -- å¯é€‰
    --             -- Icon = "rbxassetid://", -- å¯é€‰
                
    --             Type = "pandadevelopment", -- ç±»å‹: platoboost, ...
    --             ServiceId = "windui", -- æœåŠ¡ ID
    --         },
    --         {   
    --             Type = "luarmor",
    --             ScriptId = "...",
    --             Discord = "https://discord.com/invite/...",
    --         },
    --         { -- è‡ªå®šä¹‰æœåŠ¡ ( â†‘â†‘ æŸ¥çœ‹ç¬¬ 73 è¡Œ â†‘â†‘ )
    --             Type = "mysuperservicetogetkey",
    --             ServiceId = 42,
    --         }
    --     },
    --     SaveKey = true,
    -- },
})

Window:Tag({
    Title = "v1.6.4",
    Color = Color3.fromHex("#30ff6a")
})
Window:Tag({
    Title = "æµ‹è¯•ç‰ˆ", -- æ ‡ç­¾æ±‰åŒ–
    Color = Color3.fromHex("#315dff")
})
local TimeTag = Window:Tag({
    Title = "00:00",
    Color = Color3.fromHex("#000000")
})

local hue = 0

task.spawn(function()
	while true do
		local now = os.date("*t")
		local hours = string.format("%02d", now.hour)
		local minutes = string.format("%02d", now.min)
		
		hue = (hue + 0.01) % 1
		local color = Color3.fromHSV(hue, 1, 1)
		
		TimeTag:SetTitle(hours .. ":" .. minutes)
		TimeTag:SetColor(color)

		task.wait(0.06)
	end
end)


Window:CreateTopbarButton("theme-switcher", "moon", function()
    WindUI:SetTheme(WindUI:GetCurrentTheme() == "Dark" and "Light" or "Dark")
    WindUI:Notify({
        Title = "ä¸»é¢˜å·²æ›´æ”¹", -- é€šçŸ¥æ ‡é¢˜æ±‰åŒ–
        Content = "å½“å‰ä¸»é¢˜: "..WindUI:GetCurrentTheme(), -- é€šçŸ¥å†…å®¹æ±‰åŒ–
        Duration = 2
    })
end, 990)

local Tabs = {
    Main = Window:Section({ Title = " UIç¤ºä¾‹", Opened = true }), -- ä½¿ç”¨æœ¬åœ°åŒ–é”®
    Settings = Window:Section({ Title = "è®¾ç½®", Opened = true }), -- ä½¿ç”¨æœ¬åœ°åŒ–é”®
    Utilities = Window:Section({ Title = "é…ç½®æ–¹é¢", Opened = true }) -- ä½¿ç”¨æœ¬åœ°åŒ–é”®
}

local TabHandles = {
    Elements = Tabs.Main:Tab({ Title = "ç¤ºä¾‹", Icon = "layout-grid", Desc = "UI å…ƒç´ ç¤ºä¾‹" }), -- æ ‡é¢˜ä½¿ç”¨æœ¬åœ°åŒ–é”®ï¼Œæè¿°æ±‰åŒ–
    Appearance = Tabs.Settings:Tab({ Title = " Uié…ç½®åŠŸèƒ½", Icon = "brush" }), -- ä½¿ç”¨æœ¬åœ°åŒ–é”®
    Config = Tabs.Utilities:Tab({ Title = "é…ç½®æ–¹é¢", Icon = "settings" }) -- ä½¿ç”¨æœ¬åœ°åŒ–é”®
}

TabHandles.Elements:Paragraph({
    Title = "äº¤äº’å¼ç»„ä»¶", -- æ®µè½æ ‡é¢˜æ±‰åŒ–
    Desc = "æ¢ç´¢ WindUI å¼ºå¤§çš„å…ƒç´ ", -- æè¿°æ±‰åŒ–
    Image = "component",
    ImageSize = 20,
    Color = Color3.fromHex("#30ff6a"),
})

TabHandles.Elements:Divider()

--[[local modeDropdown = TabHandles.Elements:Dropdown({
    Title = "é€‰æ‹©èƒŒæ™¯",
    Values = { "æµ·è±š", "çŒ«ç¾½é›«1", "çŒ«ç¾½é›«2" },
    Value = "æ— ",
    Callback = function(option)
        local backgroundId
        if option == "çŒ«ç¾½é›«1" then
            IP = "rbxassetid://98446137628032"
        elseif option == "çŒ«ç¾½é›«2" then
            IP = "rbxassetid://130923340937036"
        else
            IP = "rbxassetid://113786259584052"
        end
        WindUI:Notify({
            Title = "èƒŒæ™¯å·²æ›´æ”¹",
            Content = "å·²é€‰æ‹©: "..option,
            Duration = 2
        })
    end
})
]]
TabHandles.Config:Paragraph({
    Title = "é…ç½®ç®¡ç†å™¨", -- æ®µè½æ ‡é¢˜æ±‰åŒ–
    Desc = "ä¿å­˜å’ŒåŠ è½½æ‚¨çš„è®¾ç½®", -- æè¿°æ±‰åŒ–
    Image = "save",
    ImageSize = 20,
    Color = "White"
})

local configName = "default"
local configFile = nil
local MyPlayerData = {
    name = "ç©å®¶1", -- ç©å®¶åæ±‰åŒ–
    level = 1,
    inventory = { "å‰‘", "ç›¾ç‰Œ", "è¯æ°´" } -- ç‰©å“æ±‰åŒ–
}

TabHandles.Config:Input({
    Title = "é…ç½®åç§°", -- è¾“å…¥æ¡†æ ‡é¢˜æ±‰åŒ–
    Value = configName,
    Callback = function(value)
        configName = value or "default"
    end
})

local ConfigManager = Window.ConfigManager
if ConfigManager then
    ConfigManager:Init(Window)
    
    TabHandles.Config:Button({
        Title = "ä¿å­˜é…ç½®", -- ä½¿ç”¨æœ¬åœ°åŒ–é”®
        Icon = "save",
        Variant = "Primary",
        Callback = function()
            configFile = ConfigManager:CreateConfig(configName)
            
            configFile:Register("featureToggle", featureToggle)
            configFile:Register("intensitySlider", intensitySlider)
            configFile:Register("modeDropdown", modeDropdown)
            configFile:Register("themeDropdown", themeDropdown)
            configFile:Register("transparencySlider", transparencySlider)
            
            configFile:Set("playerData", MyPlayerData)
            configFile:Set("lastSave", os.date("%Y-%m-%d %H:%M:%S"))
            
            if configFile:Save() then
                WindUI:Notify({ 
                    Title = "loc:SAVE_CONFIG", -- ä½¿ç”¨æœ¬åœ°åŒ–é”®
                    Content = "å·²ä¿å­˜ä¸º: "..configName, -- å†…å®¹éƒ¨åˆ†æ±‰åŒ–
                    Icon = "check",
                    Duration = 3
                })
            else
                WindUI:Notify({ 
                    Title = "é”™è¯¯", -- é€šçŸ¥æ ‡é¢˜æ±‰åŒ–
                    Content = "ä¿å­˜é…ç½®å¤±è´¥", -- é€šçŸ¥å†…å®¹æ±‰åŒ–
                    Icon = "x",
                    Duration = 3
                })
            end
        end
    })

    TabHandles.Config:Button({
        Title = "åŠ è½½é…ç½®", -- ä½¿ç”¨æœ¬åœ°åŒ–é”®
        Icon = "folder",
        Callback = function()
            configFile = ConfigManager:CreateConfig(configName)
            local loadedData = configFile:Load()
            
            if loadedData then
                if loadedData.playerData then
                    MyPlayerData = loadedData.playerData
                end
                
                local lastSave = loadedData.lastSave or "æœªçŸ¥" -- æ±‰åŒ–
                WindUI:Notify({ 
                    Title = "loc:LOAD_CONFIG", -- ä½¿ç”¨æœ¬åœ°åŒ–é”®
                    Content = "å·²åŠ è½½: "..configName.."\nä¸Šæ¬¡ä¿å­˜: "..lastSave, -- å†…å®¹éƒ¨åˆ†æ±‰åŒ–
                    Icon = "refresh-cw",
                    Duration = 5
                })
                
                TabHandles.Config:Paragraph({
                    Title = "ç©å®¶æ•°æ®", -- æ®µè½æ ‡é¢˜æ±‰åŒ–
                    Desc = string.format("åç§°: %s\nç­‰çº§: %d\nåº“å­˜: %s", 
                        MyPlayerData.name, 
                        MyPlayerData.level, 
                        table.concat(MyPlayerData.inventory, ", ")) -- æè¿°æ±‰åŒ–
                })
            else
                WindUI:Notify({ 
                    Title = "é”™è¯¯", -- é€šçŸ¥æ ‡é¢˜æ±‰åŒ–
                    Content = "åŠ è½½é…ç½®å¤±è´¥", -- é€šçŸ¥å†…å®¹æ±‰åŒ–
                    Icon = "x",
                    Duration = 3
                })
            end
        end
    })
else
    TabHandles.Config:Paragraph({
        Title = "é…ç½®ç®¡ç†å™¨ä¸å¯ç”¨", -- æ®µè½æ ‡é¢˜æ±‰åŒ–
        Desc = "æ­¤åŠŸèƒ½éœ€è¦ ConfigManager", -- æè¿°æ±‰åŒ–
        Image = "alert-triangle",
        ImageSize = 20,
        Color = "White"
    })
end


local footerSection = Window:Section({ Title = "WindUI " .. WindUI.Version })
TabHandles.Config:Paragraph({
    Title = "ç”¨å¿ƒåˆ›é€  â¤ï¸", -- æ®µè½æ ‡é¢˜æ±‰åŒ–
    Desc = "https://github.com/MP00N/MP-hub-Introduction/tree/main",
    Image = "github",
    ImageSize = 20,
    Color = "Grey",
    Buttons = {
        {
            Title = "å¤åˆ¶é“¾æ¥", -- æŒ‰é’®æ ‡é¢˜æ±‰åŒ–
            Icon = "copy",
            Variant = "Tertiary",
            Callback = function()
                setclipboard("https://github.com/MP00N/MP-hub-Introduction/tree/main")
                WindUI:Notify({
                    Title = "å·²å¤åˆ¶ï¼", -- é€šçŸ¥æ ‡é¢˜æ±‰åŒ–
                    Content = "GitHub é“¾æ¥å·²å¤åˆ¶åˆ°å‰ªè´´æ¿", -- é€šçŸ¥å†…å®¹æ±‰åŒ–
                    Duration = 2
                })
            end
        }
    }
})

Window:OnClose(function()
    print("çª—å£å·²å…³é—­") -- è¾“å‡ºä¿¡æ¯æ±‰åŒ–
    
    if ConfigManager and configFile then
        configFile:Set("playerData", MyPlayerData)
        configFile:Set("lastSave", os.date("%Y-%m-%d %H:%M:%S"))
        configFile:Save()
        print("å…³é—­æ—¶è‡ªåŠ¨ä¿å­˜é…ç½®") -- è¾“å‡ºä¿¡æ¯æ±‰åŒ–
    end
end)

Window:OnDestroy(function()
    print("çª—å£å·²é”€æ¯") -- è¾“å‡ºä¿¡æ¯æ±‰åŒ–
end)
